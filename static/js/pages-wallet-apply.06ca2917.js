(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-wallet-apply"],{9438:function(t,a,n){"use strict";n.r(a);var i=n("f9a6"),e=n("f154");for(var o in e)["default"].indexOf(o)<0&&function(t){n.d(a,t,(function(){return e[t]}))}(o);n("cc99");var s=n("828b"),l=Object(s["a"])(e["default"],i["b"],i["c"],!1,null,"54d401a6",null,!1,i["a"],void 0);a["default"]=l.exports},a233:function(t,a,n){var i=n("bbc4");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var e=n("967d").default;e("1c7cdae1",i,!0,{sourceMap:!1,shadowMode:!1})},bbc4:function(t,a,n){var i=n("c86c");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* uni.scss */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.apply-page[data-v-54d401a6]{min-height:100vh;padding-bottom:%?120?%}.apply-box[data-v-54d401a6]{display:flex;flex-direction:column;align-items:center;padding:%?30?% %?50?% %?100?%;background:#ee9b3c}.apply-box h2[data-v-54d401a6]{width:100%;color:#fff;text-align:center;margin-bottom:%?30?%}.apply-box-input[data-v-54d401a6]{width:100%;padding:0 %?20?%;background:#fff;box-shadow:0 0 %?6?% %?2?% #999 inset}.apply-box-input uni-input[data-v-54d401a6]{flex:1;font-size:%?28?%;height:%?80?%}.apply-slider[data-v-54d401a6]{width:100%}.apply-slider p[data-v-54d401a6]{display:flex;justify-content:space-between;align-items:center}[data-v-54d401a6] .uni-slider-handle-wrapper{height:%?28?%}.apply-popup[data-v-54d401a6]{position:fixed;top:0;left:0;display:flex;flex-direction:column;justify-content:flex-end;width:100vw;height:100vh;background:rgba(0,0,0,.3137254901960784);z-index:19}.apply-popup-box[data-v-54d401a6]{padding:%?30?%;background:#fff}.apply-popup-box uni-button[data-v-54d401a6]{display:flex;justify-content:center;align-items:center;min-width:%?240?%;min-height:%?90?%;border-radius:%?20?%;padding:0 %?24?%;font-size:%?28?%;color:#fff;background:#ee9b3c;box-shadow:2px 5px 4px 1px #eee;text-transform:capitalize;width:100%}.apply-popup-box .login-box-check[data-v-54d401a6]{color:#999;padding:0}.apply-popup-title[data-v-54d401a6]{display:flex;justify-content:space-between;align-items:center}.apply-popup-title i[data-v-54d401a6]{display:flex;justify-content:center;align-items:center;width:%?70?%;height:%?70?%;color:#999}.apply-popup-box-cell[data-v-54d401a6]{display:flex;justify-content:space-between;align-items:center;padding:%?20?% 0}.apply-popup-box-cell span[data-v-54d401a6]{color:#999}.apply-popup-box-cell p[data-v-54d401a6]{display:flex;flex-direction:column}.apply-popup-box-cell p em[data-v-54d401a6]:last-child{margin-top:%?10?%}.apply-month[data-v-54d401a6]{padding:%?40?%}.apply-month h3[data-v-54d401a6]{font-size:%?24?%;margin-bottom:%?10?%}.apply-month ul[data-v-54d401a6]{display:flex;align-items:center;flex-wrap:wrap;padding-bottom:%?20?%;margin-bottom:%?30?%;border-bottom:%?2?% dashed #ccc}.apply-month ul li[data-v-54d401a6]{width:30%;text-align:center;height:%?60?%;line-height:%?58?%;padding:0 %?10?%;color:#fff;background:#ccc;margin-bottom:%?20?%;margin-right:2%;border-radius:%?10?%}.apply-month ul .active[data-v-54d401a6]{background:#ee9b3c}.apply-month-cur[data-v-54d401a6]{width:100%;padding:%?30?%;background:#ee9b3c;border-radius:%?20?%;margin-bottom:%?40?%}.apply-month-cur p[data-v-54d401a6]{display:flex;align-items:center;background:#fff;height:%?70?%;padding:0 %?30?%;border-radius:%?30?%}.apply-month-cur p em[data-v-54d401a6]{font-size:%?30?%;font-weight:700;margin-left:%?10?%}.apply-month-infos[data-v-54d401a6]{display:flex;justify-content:space-between;align-items:center}.apply-month-infos-cell[data-v-54d401a6]{display:flex;flex-direction:column;align-items:center;width:30%}.apply-month-infos-cell span[data-v-54d401a6],\n.apply-month-infos-cell em[data-v-54d401a6]{text-align:center}.apply-month-infos-cell span[data-v-54d401a6]{margin-bottom:%?10?%}',""]),t.exports=a},cc99:function(t,a,n){"use strict";var i=n("a233"),e=n.n(i);e.a},f154:function(t,a,n){"use strict";n.r(a);var i=n("f575"),e=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(a,t,(function(){return i[t]}))}(o);a["default"]=e.a},f575:function(t,a,n){"use strict";(function(t){n("6a54");var i=n("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,n("e838");i(n("2628"));var e={data:function(){return{cur_amount:"",min_amount:0,max_amount:0,cur_loan_rate:0,product_id:"",cur_total:0,cur_Original:0,cur_profit:0,cur_total_profit:0,cur_month:"",start_date:"",end_date:"",month_list:[],is_checked:!1,show_apply:!1,isLoading:!1}},onShow:function(){this.getLoanConfig()},watch:{cur_month:function(){this.getResult();var t=(new Date).getTime();this.start_date=this.getDate(t,"day2",1),this.end_date=this.getDate(t,"day2",this.cur_month+1)},cur_amount:function(){var t=this;setTimeout((function(){t.cur_amount>t.max_amount&&(t.cur_amount=t.max_amount),t.getResult()}),20)}},methods:{getResult:function(){this.cur_Original=this.getDecimals(this.cur_amount/this.cur_month,2),this.cur_total_profit=this.getDecimals(parseFloat(this.cur_amount)*this.cur_loan_rate),this.cur_profit=this.getDecimals(parseFloat(this.cur_total_profit)/12,2),this.cur_total=this.getDecimals(parseFloat(this.cur_Original)+parseFloat(this.cur_profit),2)},getLoanConfig:function(){var t=this;uni.showLoading(),this.$http.post("app.staking/loan/getLoanConfig").then((function(a){if(uni.hideLoading(),0==a.errcode){var n=a.data.config;t.month_list=n.loan_list,t.min_amount=parseFloat(n.min_loan),t.max_amount=parseFloat(n.max_loan),t.cur_amount||(t.cur_amount=t.min_amount),t.cur_month||(t.cur_month=t.month_list[0].cycle,t.product_id=t.month_list[0].id,t.cur_loan_rate=parseFloat(t.month_list[0].loan_rate))}})).catch((function(){uni.hideLoading()}))},sliderChange:function(t){console.log("value 发生变化："+t.detail.value),this.cur_amount=t.detail.value},changeMonth:function(t){this.cur_month=t.cycle,this.product_id=t.id,this.cur_loan_rate=parseFloat(t.loan_rate)},toContract:function(){console.log("222"),uni.navigateTo({url:"/pages/Privacy/contract"})},toSign:function(){if(!this.is_checked)return t.toast("请先阅读并接受合同"),!1;uni.navigateTo({url:"/pages/wallet/personal-signature?product_id="+this.product_id+"&amount="+this.cur_amount})}}};a.default=e}).call(this,n("0ee4"))},f9a6:function(t,a,n){"use strict";n.d(a,"b",(function(){return i})),n.d(a,"c",(function(){return e})),n.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("v-uni-view",{staticClass:"apply-page"},[n("v-uni-view",{staticClass:"apply-box"},[n("h2",[t._v("贷款额度 (RM)")]),n("v-uni-view",{staticClass:"apply-box-input"},[n("v-uni-input",{model:{value:t.cur_amount,callback:function(a){t.cur_amount=a},expression:"cur_amount"}})],1),n("v-uni-view",{staticClass:"apply-slider"},[n("v-uni-slider",{attrs:{value:t.cur_amount,activeColor:"#ffff00","block-size":18,min:t.min_amount,max:t.max_amount,"block-color":"#402416"},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.sliderChange.apply(void 0,arguments)}}}),n("p",[n("span",[t._v("RM "+t._s(t.min_amount))]),n("span",[t._v("RM "+t._s(t.max_amount))])])],1)],1),n("v-uni-view",{staticClass:"apply-month"},[n("v-uni-view",{staticClass:"apply-month-cur"},[n("p",[n("span",[t._v("贷款期限 (月) :")]),n("em",[t._v(t._s(t.cur_month))])])]),n("h3",[t._v("贷款期限 (月)")]),n("ul",t._l(t.month_list,(function(a,i){return n("li",{key:i,class:{active:t.cur_month==a.cycle},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.changeMonth(a)}}},[t._v(" "+t._s(a.cycle)+" ")])})),0),n("v-uni-view",{staticClass:"apply-month-infos"},[n("v-uni-view",{staticClass:"apply-month-infos-cell"},[n("span",[t._v("每月还款")]),n("em",[t._v(t._s(t.cur_total))])]),n("v-uni-view",{staticClass:"apply-month-infos-cell"},[n("span",[t._v("每月本金")]),n("em",[t._v(t._s(t.cur_Original))])]),n("v-uni-view",{staticClass:"apply-month-infos-cell"},[n("span",[t._v("月利息")]),n("em",[t._v(t._s(t.cur_profit))])])],1)],1),n("v-uni-view",{staticClass:"person-btn"},[n("v-uni-button",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.show_apply=!0}}},[t._v("贷款")])],1),t.show_apply?n("v-uni-view",{staticClass:"apply-popup"},[n("v-uni-view",{staticClass:"apply-popup-box"},[n("v-uni-view",{staticClass:"apply-popup-title"},[n("i"),n("span",[t._v("确认贷款信息")]),n("i",{staticClass:"iconfont",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.show_apply=!1}}},[t._v("")])]),n("v-uni-view",{staticClass:"apply-popup-box-cell"},[n("span",[t._v("贷款额度 (RM)")]),n("p",[n("em",[t._v(t._s(t.cur_amount))])])]),n("v-uni-view",{staticClass:"apply-popup-box-cell"},[n("span",[t._v("实际到账")]),n("p",[n("em",[t._v(t._s(t.cur_amount))])])]),n("v-uni-view",{staticClass:"apply-popup-box-cell"},[n("span",[t._v("总利息")]),n("p",[n("em",[t._v(t._s(t.cur_total_profit))])])]),n("v-uni-view",{staticClass:"apply-popup-box-cell"},[n("span",[t._v("月利率")]),n("p",[n("em",[t._v(t._s(t.getDecimals(t.cur_loan_rate/12*100,2))+"%")])])]),n("v-uni-view",{staticClass:"apply-popup-box-cell"},[n("span",[t._v("贷款周期")]),n("p",[n("em",[t._v(t._s(t.start_date))]),n("em",[t._v(t._s(t.end_date))])])]),n("v-uni-view",{staticClass:"apply-popup-box-cell"},[n("span",[t._v("首次付款日期")]),n("p",[n("em",[t._v(t._s(t.start_date))])])]),n("v-uni-view",{staticClass:"login-box-check"},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.is_checked,expression:"is_checked"}],staticClass:"iconfont is_checked",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.is_checked=!t.is_checked}}},[t._v("")]),n("i",{directives:[{name:"show",rawName:"v-show",value:!t.is_checked,expression:"!is_checked"}],staticClass:"iconfont",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.is_checked=!t.is_checked}}},[t._v("")]),n("span",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toContract.apply(void 0,arguments)}}},[t._v("我已阅读并同意贷款及保障协议。")])]),n("v-uni-button",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toSign.apply(void 0,arguments)}}},[t._v("贷款")])],1)],1):t._e()],1)},e=[]}}]);