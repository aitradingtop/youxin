(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-wallet-apply"],{"90fe":function(a,t,n){"use strict";n.d(t,"b",(function(){return e})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var e=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("v-uni-view",{staticClass:"apply-page"},[n("v-uni-view",{staticClass:"apply-box"},[n("h2",[a._v("贷款额度 (RM)")]),n("v-uni-view",{staticClass:"apply-box-input"},[n("v-uni-input",{model:{value:a.cur_amount,callback:function(t){a.cur_amount=t},expression:"cur_amount"}})],1),n("v-uni-view",{staticClass:"apply-slider"},[n("v-uni-slider",{attrs:{value:a.cur_amount,activeColor:"#ffff00","block-size":18,min:a.min_amount,max:a.max_amount,"block-color":"#402416"},on:{change:function(t){arguments[0]=t=a.$handleEvent(t),a.sliderChange.apply(void 0,arguments)}}}),n("p",[n("span",[a._v("RM "+a._s(a.min_amount))]),n("span",[a._v("RM "+a._s(a.max_amount))])])],1)],1),n("v-uni-view",{staticClass:"apply-month"},[n("v-uni-view",{staticClass:"apply-month-cur"},[n("p",[n("span",[a._v("贷款期限 (月) :")]),n("em",[a._v(a._s(a.cur_month))])])]),n("h3",[a._v("贷款期限 (月)")]),n("ul",a._l(a.month_list,(function(t,e){return n("li",{key:e,class:{active:a.cur_month==t.cycle},on:{click:function(n){arguments[0]=n=a.$handleEvent(n),a.changeMonth(t)}}},[a._v(" "+a._s(t.cycle)+" ")])})),0),n("v-uni-view",{staticClass:"apply-month-infos"},[n("v-uni-view",{staticClass:"apply-month-infos-cell"},[n("span",[a._v("每月还款")]),n("em",[a._v(a._s(a.cur_total))])]),n("v-uni-view",{staticClass:"apply-month-infos-cell"},[n("span",[a._v("每月本金")]),n("em",[a._v(a._s(a.cur_Original))])]),n("v-uni-view",{staticClass:"apply-month-infos-cell"},[n("span",[a._v("月利息")]),n("em",[a._v(a._s(a.cur_profit))])])],1)],1),n("v-uni-view",{staticClass:"person-btn"},[n("v-uni-button",{on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.show_apply=!0}}},[a._v("贷款")])],1),a.show_apply?n("v-uni-view",{staticClass:"apply-popup"},[n("v-uni-view",{staticClass:"apply-popup-box"},[n("v-uni-view",{staticClass:"apply-popup-title"},[n("i"),n("span",[a._v("确认贷款信息")]),n("i",{staticClass:"iconfont",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.show_apply=!1}}},[a._v("")])]),n("v-uni-view",{staticClass:"apply-popup-box-cell"},[n("span",[a._v("贷款额度 (RM)")]),n("p",[n("em",[a._v(a._s(a.cur_amount))])])]),n("v-uni-view",{staticClass:"apply-popup-box-cell"},[n("span",[a._v("实际到账")]),n("p",[n("em",[a._v(a._s(a.cur_amount))])])]),n("v-uni-view",{staticClass:"apply-popup-box-cell"},[n("span",[a._v("总利息")]),n("p",[n("em",[a._v(a._s(a.cur_total_profit))])])]),n("v-uni-view",{staticClass:"apply-popup-box-cell"},[n("span",[a._v("月利率")]),n("p",[n("em",[a._v(a._s(a.getDecimals(a.cur_loan_rate/12*100,2))+"%")])])]),n("v-uni-view",{staticClass:"apply-popup-box-cell"},[n("span",[a._v("贷款周期")]),n("p",[n("em",[a._v(a._s(a.start_date))]),n("em",[a._v(a._s(a.end_date))])])]),n("v-uni-view",{staticClass:"apply-popup-box-cell"},[n("span",[a._v("首次付款日期")]),n("p",[n("em",[a._v(a._s(a.start_date))])])]),n("v-uni-view",{staticClass:"login-box-check"},[n("i",{directives:[{name:"show",rawName:"v-show",value:a.is_checked,expression:"is_checked"}],staticClass:"iconfont is_checked",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.is_checked=!a.is_checked}}},[a._v("")]),n("i",{directives:[{name:"show",rawName:"v-show",value:!a.is_checked,expression:"!is_checked"}],staticClass:"iconfont",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.is_checked=!a.is_checked}}},[a._v("")]),n("span",{on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.toContract.apply(void 0,arguments)}}},[a._v("我已阅读并同意贷款及保障协议。")])]),n("v-uni-button",{on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.toSign.apply(void 0,arguments)}}},[a._v("贷款")])],1)],1):a._e()],1)},i=[]},9438:function(a,t,n){"use strict";n.r(t);var e=n("90fe"),i=n("f154");for(var o in i)["default"].indexOf(o)<0&&function(a){n.d(t,a,(function(){return i[a]}))}(o);n("e56a");var s=n("828b"),l=Object(s["a"])(i["default"],e["b"],e["c"],!1,null,"2509eaa5",null,!1,e["a"],void 0);t["default"]=l.exports},b734:function(a,t,n){var e=n("c86c");t=e(!1),t.push([a.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* uni.scss */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.apply-page[data-v-2509eaa5]{min-height:100vh;padding-bottom:%?120?%}.apply-box[data-v-2509eaa5]{display:flex;flex-direction:column;align-items:center;padding:%?30?% %?50?% %?100?%;background:#ee9b3c}.apply-box h2[data-v-2509eaa5]{width:100%;color:#fff;text-align:center;margin-bottom:%?30?%}.apply-box-input[data-v-2509eaa5]{width:100%;padding:0 %?20?%;background:#fff;box-shadow:0 0 %?6?% %?2?% #999 inset}.apply-box-input uni-input[data-v-2509eaa5]{flex:1;font-size:%?28?%;height:%?80?%}.apply-slider[data-v-2509eaa5]{width:100%}.apply-slider p[data-v-2509eaa5]{display:flex;justify-content:space-between;align-items:center}[data-v-2509eaa5] .uni-slider-handle-wrapper{height:%?28?%}.apply-popup[data-v-2509eaa5]{position:fixed;top:0;left:0;display:flex;flex-direction:column;justify-content:flex-end;width:100vw;height:100vh;background:rgba(0,0,0,.3137254901960784);z-index:19}.apply-popup-box[data-v-2509eaa5]{padding:%?30?%;background:#fff}.apply-popup-box uni-button[data-v-2509eaa5]{display:flex;justify-content:center;align-items:center;min-width:%?240?%;min-height:%?90?%;border-radius:%?20?%;padding:0 %?24?%;font-size:%?28?%;color:#fff;background:#ee9b3c;box-shadow:2px 5px 4px 1px #eee;text-transform:capitalize;width:100%}.apply-popup-box .login-box-check[data-v-2509eaa5]{color:#999;padding:0}.apply-popup-title[data-v-2509eaa5]{display:flex;justify-content:space-between;align-items:center}.apply-popup-title i[data-v-2509eaa5]{display:flex;justify-content:center;align-items:center;width:%?70?%;height:%?70?%;color:#999}.apply-popup-box-cell[data-v-2509eaa5]{display:flex;justify-content:space-between;align-items:center;padding:%?20?% 0}.apply-popup-box-cell span[data-v-2509eaa5]{color:#999}.apply-popup-box-cell p[data-v-2509eaa5]{display:flex;flex-direction:column}.apply-popup-box-cell p em[data-v-2509eaa5]:last-child{margin-top:%?10?%}.apply-month[data-v-2509eaa5]{padding:%?40?%}.apply-month h3[data-v-2509eaa5]{font-size:%?24?%;margin-bottom:%?10?%}.apply-month ul[data-v-2509eaa5]{display:flex;align-items:center;flex-wrap:wrap;padding-bottom:%?20?%;margin-bottom:%?30?%;border-bottom:%?2?% dashed #ccc}.apply-month ul li[data-v-2509eaa5]{width:30%;text-align:center;height:%?60?%;line-height:%?58?%;padding:0 %?10?%;color:#fff;background:#ccc;margin-bottom:%?20?%;margin-right:2%;border-radius:%?10?%}.apply-month ul .active[data-v-2509eaa5]{background:#ee9b3c}.apply-month-cur[data-v-2509eaa5]{width:100%;padding:%?30?%;background:#ee9b3c;border-radius:%?20?%;margin-bottom:%?40?%}.apply-month-cur p[data-v-2509eaa5]{display:flex;align-items:center;background:#fff;height:%?70?%;padding:0 %?30?%;border-radius:%?30?%}.apply-month-cur p em[data-v-2509eaa5]{font-size:%?30?%;font-weight:700;margin-left:%?10?%}.apply-month-infos[data-v-2509eaa5]{display:flex;justify-content:space-between;align-items:center}.apply-month-infos-cell[data-v-2509eaa5]{display:flex;flex-direction:column;align-items:center;width:30%}.apply-month-infos-cell span[data-v-2509eaa5],\n.apply-month-infos-cell em[data-v-2509eaa5]{text-align:center}.apply-month-infos-cell span[data-v-2509eaa5]{margin-bottom:%?10?%}',""]),a.exports=t},e56a:function(a,t,n){"use strict";var e=n("ecfa"),i=n.n(e);i.a},ecfa:function(a,t,n){var e=n("b734");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[a.i,e,""]]),e.locals&&(a.exports=e.locals);var i=n("967d").default;i("506c3358",e,!0,{sourceMap:!1,shadowMode:!1})},f154:function(a,t,n){"use strict";n.r(t);var e=n("f575"),i=n.n(e);for(var o in e)["default"].indexOf(o)<0&&function(a){n.d(t,a,(function(){return e[a]}))}(o);t["default"]=i.a},f575:function(a,t,n){"use strict";(function(a){n("6a54");var e=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("e838");e(n("2628"));var i={data:function(){return{cur_amount:"",min_amount:0,max_amount:0,cur_loan_rate:0,product_id:"",cur_total:0,cur_Original:0,cur_profit:0,cur_total_profit:0,cur_month:"",start_date:"",end_date:"",month_list:[],is_checked:!1,show_apply:!1,isLoading:!1}},onShow:function(){this.getLoanConfig()},watch:{cur_month:function(){this.getResult();var a=(new Date).getTime();this.start_date=this.getDate(a,"day2",1),this.end_date=this.getDate(a,"day2",this.cur_month+1)},cur_amount:function(){var a=this;setTimeout((function(){a.cur_amount>a.max_amount&&(a.cur_amount=a.max_amount),a.getResult()}),20)}},methods:{getResult:function(){this.cur_Original=this.getDecimals(this.cur_amount/this.cur_month,2),this.cur_total_profit=this.getDecimals(parseFloat(this.cur_amount)*this.cur_loan_rate),this.cur_profit=this.getDecimals(parseFloat(this.cur_total_profit)/12,2),this.cur_total=this.getDecimals(parseFloat(this.cur_Original)+parseFloat(this.cur_profit),2)},getLoanConfig:function(){var a=this;uni.showLoading(),this.$http.post("app.staking/loan/getLoanConfig").then((function(t){if(uni.hideLoading(),0==t.errcode){var n=t.data.config;a.month_list=n.loan_list,a.min_amount=parseFloat(n.min_loan),a.max_amount=parseFloat(n.max_loan),a.cur_amount||(a.cur_amount=a.min_amount),a.cur_month||(a.cur_month=a.month_list[0].cycle,a.product_id=a.month_list[0].id,a.cur_loan_rate=parseFloat(a.month_list[0].loan_rate))}})).catch((function(){uni.hideLoading()}))},sliderChange:function(a){console.log("value 发生变化："+a.detail.value),this.cur_amount=a.detail.value},changeMonth:function(a){this.cur_month=a.cycle,this.product_id=a.id,this.cur_loan_rate=parseFloat(a.loan_rate)},toContract:function(){console.log("222"),uni.navigateTo({url:"/pages/Privacy/contract?start_date="+this.start_date+"&product_id="+this.product_id+"&cur_amount="+this.cur_amount})},toSign:function(){if(!this.is_checked)return a.toast(this.$t("Please_read_accept")),!1;uni.navigateTo({url:"/pages/wallet/personal-signature?product_id="+this.product_id+"&amount="+this.cur_amount})}}};t.default=i}).call(this,n("0ee4"))}}]);