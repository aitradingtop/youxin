(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-person"],{"10da":function(n,e,a){"use strict";a.r(e);var i=a("6222"),t=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(n){a.d(e,n,(function(){return i[n]}))}(o);e["default"]=t.a},1429:function(n,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return t})),a.d(e,"a",(function(){}));var i=function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("v-uni-view",{staticClass:"person-page"},[a("v-uni-view",{staticClass:"person-box"},[a("h2",[n._v("---- "+n._s(n.$t("personal_information"))+" ----")]),a("p",[n._v(n._s(n.$t("lang_name")))]),a("v-uni-input",{model:{value:n.real_name,callback:function(e){n.real_name=e},expression:"real_name"}}),a("p",[n._v(n._s(n.$t("ID_card")))]),a("v-uni-input",{attrs:{type:"number"},model:{value:n.card_sn,callback:function(e){n.card_sn=e},expression:"card_sn"}}),a("p",[n._v(n._s(n.$t("Current_address")))]),a("v-uni-input",{model:{value:n.user_address,callback:function(e){n.user_address=e},expression:"user_address"}}),a("v-uni-view",{staticClass:"upload-box"},[a("p",[n._v(n._s(n.$t("Front_ID_card")))]),n.front_pic_domain?n._e():a("v-uni-view",{staticClass:"upload-box-main",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.upload.apply(void 0,arguments)}}},[a("i",{staticClass:"iconfont"},[n._v("")])]),n.front_pic_domain?a("v-uni-image",{attrs:{src:n.front_pic_domain},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.viewDetail1.apply(void 0,arguments)}}}):n._e(),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:n.front_pic_domain,expression:"front_pic_domain"}],staticClass:"icon-close",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.front_pic="",n.front_pic_domain=""}}},[a("i",{staticClass:"iconfont"},[n._v("")])])],1),a("v-uni-view",{staticClass:"upload-box"},[a("p",[n._v(n._s(n.$t("Back_ID_card")))]),n.reverse_pic_domain?n._e():a("v-uni-view",{staticClass:"upload-box-main",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.upload2.apply(void 0,arguments)}}},[a("i",{staticClass:"iconfont"},[n._v("")])]),n.reverse_pic_domain?a("v-uni-image",{attrs:{src:n.reverse_pic_domain},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.viewDetail2.apply(void 0,arguments)}}}):n._e(),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:n.reverse_pic_domain,expression:"reverse_pic_domain"}],staticClass:"icon-close",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.reverse_pic_domain="",n.reverse_pic=""}}},[a("i",{staticClass:"iconfont"},[n._v("")])])],1),a("h2",[n._v("---- "+n._s(n.$t("Bank_card_information"))+" ----")]),a("p",[n._v(n._s(n.$t("lang_name")))]),a("v-uni-input",{model:{value:n.bank_account,callback:function(e){n.bank_account=e},expression:"bank_account"}}),a("p",[n._v(n._s(n.$t("Bank_Name")))]),a("v-uni-input",{model:{value:n.bank_name,callback:function(e){n.bank_name=e},expression:"bank_name"}}),a("p",[n._v(n._s(n.$t("bank_account")))]),a("v-uni-input",{attrs:{type:"number"},model:{value:n.bank_sn,callback:function(e){n.bank_sn=e},expression:"bank_sn"}})],1),a("v-uni-view",{staticClass:"person-btn"},[a("v-uni-button",{on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.submit.apply(void 0,arguments)}}},[n._v(n._s(n.$t("lang_confirm")))])],1),a("tipPopup")],1)},t=[]},"21ec":function(n,e,a){var i=a("c86c");e=i(!1),e.push([n.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* uni.scss */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.person-page[data-v-37c0977b]{position:relative;min-height:100vh;background:#f5f5f5;padding:%?40?%;padding-bottom:%?120?%}.person-page h2[data-v-37c0977b]{width:100%;text-align:center;margin-bottom:%?20?%}.person-page p[data-v-37c0977b]{margin-bottom:%?10?%}.person-page uni-input[data-v-37c0977b]{width:100%;padding:0 %?30?%;height:%?80?%;background:#eee;border-radius:%?40?%;margin-bottom:%?30?%}.person-box[data-v-37c0977b]{padding:%?30?%;background:#fff}.upload-box[data-v-37c0977b]{padding:%?30?%}.upload-box .upload-box-main[data-v-37c0977b]{display:flex;justify-content:center;align-items:center;width:100%;height:%?300?%;border:%?4?% dashed #ccc}.upload-box .upload-box-main i[data-v-37c0977b]{font-size:%?200?%;color:#ccc}',""]),n.exports=e},3642:function(n,e,a){var i=a("21ec");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var t=a("967d").default;t("b69f1b84",i,!0,{sourceMap:!1,shadowMode:!1})},"3ebd":function(n,e,a){"use strict";a.r(e);var i=a("1429"),t=a("10da");for(var o in t)["default"].indexOf(o)<0&&function(n){a.d(e,n,(function(){return t[n]}))}(o);a("a981");var s=a("828b"),c=Object(s["a"])(t["default"],i["b"],i["c"],!1,null,"37c0977b",null,!1,i["a"],void 0);e["default"]=c.exports},6222:function(n,e,a){"use strict";(function(n){a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("5ef2");var t=i(a("54a0")),o={data:function(){return{real_name:"",bank_account:"",card_sn:"",user_address:"",bank_name:"",bank_sn:"",front_pic:"",front_pic_domain:"",reverse_pic:"",reverse_pic_domain:""}},onShow:function(){uni.setNavigationBarTitle({title:this.$t("personal_information")}),this.get_real()},methods:{getUserInfo:function(){var n=this;uni.showLoading(),this.$http.post("app.user/account/info").then((function(e){if(uni.hideLoading(),e.data){var a=e.data.account_info;n.userInfo=a}})).catch((function(){uni.hideLoading()}))},upload:function(){var e=this;uni.chooseImage({success:function(a){var i=a.tempFilePaths,o=a.tempFiles;o.length&&o[0].size;uni.showLoading({title:"Loading..."}),uni.uploadFile({url:t.default.url+"api/app.util/upload/index",filePath:i[0],name:"file",formData:{_user_token:n.getToken(),_lang:uni.getStorageSync("_lang")||"en"},success:function(n){var a=JSON.parse(n.data);uni.showToast({title:a.message,icon:"none"}),console.log("cur_data==",a),e.front_pic=a.data.file_url,e.front_pic_domain=a.data.full_file_url,e.front_pic?setTimeout((function(){uni.hideLoading()}),1e3):setTimeout((function(){uni.hideLoading()}),5e3)},complete:function(){setTimeout((function(){uni.hideLoading()}),1e3)}})}})},upload2:function(){var e=this;uni.chooseImage({success:function(a){var i=a.tempFilePaths;console.log("tempFilePaths==",i),console.log("chooseImageRes==",a),console.log("tempFilePaths==",i);var o=a.tempFiles;o.length&&o[0].size;uni.showLoading({title:"Loading..."}),uni.uploadFile({url:t.default.url+"api/app.util/upload/index",filePath:i[0],name:"file",formData:{_user_token:n.getToken(),_lang:uni.getStorageSync("_lang")||"en"},success:function(n){var a=JSON.parse(n.data);uni.showToast({title:a.message,icon:"none"}),console.log("cur_data==",a),e.reverse_pic=a.data.file_url,e.reverse_pic_domain=a.data.full_file_url,e.reverse_pic?setTimeout((function(){uni.hideLoading()}),1e3):setTimeout((function(){uni.hideLoading()}),5e3)},complete:function(){setTimeout((function(){uni.hideLoading()}),1e3)}})}})},viewDetail1:function(){uni.previewImage({current:0,urls:[this.front_pic]})},viewDetail2:function(){uni.previewImage({current:0,urls:[this.reverse_pic]})},submit:function(){var n=this;return this.real_name?this.card_sn?this.user_address?this.front_pic?this.reverse_pic?void(-1==this.front_pic.indexOf("blob:")&&-1==this.reverse_pic.indexOf("blob:")&&(uni.showLoading(),console.log("front_pic==",this.front_pic),console.log("reverse_pic==",this.reverse_pic),this.$http.post("app.user/account/edit_real",{real_name:this.real_name,card_sn:this.card_sn,user_address:this.user_address,bank_name:this.bank_name,bank_account:this.bank_account,bank_sn:this.bank_sn,front_pic:this.front_pic,reverse_pic:this.reverse_pic}).then((function(e){uni.hideLoading(),uni.showToast({title:e.message,icon:"none"}),0==e.errcode&&setTimeout((function(){n.get_real()}),1500)})).catch((function(){uni.hideLoading()})))):(uni.showToast({title:this.$t("Please_upload_back_ID"),icon:"none"}),!1):(uni.showToast({title:this.$t("Please_upload_front_ID"),icon:"none"}),!1):(uni.showToast({title:this.$t("Please_enter_your_current"),icon:"none"}),!1):(uni.showToast({title:this.$t("Please_fill_your_ID"),icon:"none"}),!1):(uni.showToast({title:this.$t("Please_fill_your_name"),icon:"none"}),!1)},get_real:function(){var n=this;uni.showLoading(),this.$http.post("app.user/account/get_real").then((function(e){uni.hideLoading(),0==e.errcode&&(e.data.real_name&&(n.real_name=e.data.real_name),e.data.card_sn&&(n.card_sn=e.data.card_sn),e.data.user_address&&(n.user_address=e.data.user_address),e.data.bank_account&&(n.bank_account=e.data.bank_account),e.data.bank_name&&(n.bank_name=e.data.bank_name),e.data.bank_sn&&(n.bank_sn=e.data.bank_sn),e.data.front_pic&&(n.front_pic=e.data.front_pic),e.data.full_front_pic&&(n.front_pic_domain=e.data.full_front_pic),e.data.reverse_pic&&(n.reverse_pic=e.data.reverse_pic),e.data.full_reverse_pic&&(n.reverse_pic_domain=e.data.full_reverse_pic))})).catch((function(){uni.hideLoading()}))}}};e.default=o}).call(this,a("0ee4"))},a981:function(n,e,a){"use strict";var i=a("3642"),t=a.n(i);t.a}}]);